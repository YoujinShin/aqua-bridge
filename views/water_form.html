<style>
	form {
		position: relative;
		top: 40px;
		padding: 25px;
		padding-bottom: 40px;
		font-size: 14px;
	}
	/*.form-group {
		padding: 4px;
	}*/
	.radio {
		margin-left: 30px; 
	}
	p {position: relative; font-size: 18px; text-align: center; color: rgb(160,160,160);}
	hr {margin-left: 32%; margin-right: 32%;}
</style>


<!-- <h1>WATER QUALITY RESULT</h1> -->
<form class="form-horizontal" method="POST" action="/createWater" role="form">
	<p>BASIC INFORMATION</p> <br>
	<div class="form-group">
		<label for="reference" class="col-sm-4 control-label" style="font-family: sans-serif;"> Name </label>
		<div class="col-sm-4">
			<input type="text" name="reference" class="form-control" id="reference" value="{{quality.reference}}" required>	
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-4 col-sm-4">
			<p style="text-align: left; font-size: 14px;">* Name it as you want! It will be shown on the map. </p>	
		</div>
	</div>


	<div class="form-group" style="z-index: 50;">
		<label for="testdate" class="col-sm-4 control-label" style="font-family: sans-serif;"> Date </label>
		<div class="col-sm-4">
	        <input type="text" name="testdate" id="testdate" class="form-control date_select" required/>
	    </div>
    </div>


	<div class="form-group">
		<label for="reference" class="col-sm-4 control-label" style="font-family: sans-serif;"> Location </label>
		<div class="col-sm-4">
			<button onclick="getLocation()" type="button" class="btn " style="font-size: 10px; background-color: #E0E0E0;">
					<img src="location.png" style="width: 12px;"/>
			</button>
		</div>
	</div>
	<div class="form-group">
		<label for="lat" class="col-sm-4 control-label"> latitude </label>
		<div class="col-sm-4">
			<input type="text" name="lat" class="form-control" id="lat" required>	
		</div>
	</div>
	<div class="form-group">
		<label for="long" class="col-sm-4 control-label"> longitude </label>
		<div class="col-sm-4">
			<input type="text" name="lon" class="form-control" id="lon" required>
		</div>
	</div>


<!-- 	<div class="form-group">
		<label for="sourcetype" class="col-sm-4 control-label" style="font-family: sans-serif;"> Source type </label>
		<div class="col-sm-4">
			<select class="form-control" name="sourcetype">
			  <option id="sourcetype" value="tapwater">Tap water</option>
			  <option id="sourcetype" value="well">Well</option>
			  <option id="sourcetype" value="rainwater">Rainwater</option>
			  <option id="sourcetype" value="river">River</option>
			  <option id="sourcetype" value="spring">Spring</option>
			  <option id="sourcetype" value="dam">Dam</option>
			  <option id="sourcetype" value="others">Others</option>
			</select>
		</div>
	</div> -->
	<div class="form-group">
		<label for="sourcetype" class="col-sm-4 control-label" style="font-family: sans-serif;"> Source type </label>

		<div class="col-sm-2">
		  <label>
		    <input type="radio" name="sourcetype" id="sourcetype" value="tapwater" checked>
		    Tap water
		  </label>
		</div>
		<div class="col-sm-2">
		  <label>
		    <input type="radio" name="sourcetype" id="sourcetype" value="well" >
		    Well
		  </label>
		</div>		
	</div>

	<div class="form-group">
		<div class="col-sm-offset-4 col-sm-2 ">
		  <label>
		    <input type="radio" name="sourcetype" id="sourcetype" value="rainwater" >
		    Rainwater
		  </label>
		</div>
		<div class="col-sm-2">
		  <label>
		    <input type="radio" name="sourcetype" id="sourcetype" value="river" >
		    River
		  </label>
		</div>	
	</div>

	<div class="form-group">
		<div class="col-sm-offset-4 col-sm-4 ">
		  <label>
		    <input type="radio" name="sourcetype" id="sourcetype" value="other">
		    Other
		  </label>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-4 col-sm-4">
		    <input type="text" class="form-control"  name="sourcetype_other" id="sourcetype_other" style="display:none;">
		</div>	
	</div>


<!-- 	<div class="form-group">
		<label for="testtype" class="col-sm-4 control-label" style="font-family: sans-serif;"> Test type </label>

		<div class="col-sm-2">
		  <label>
		    <input type="radio" name="testtype" id="testtype" value="petrifilm_test">
		    Petrifilm
		  </label>
		</div>
		<div class="col-sm-2">
		  <label>
		    <input type="radio" name="testtype" id="testtype" value="colilert_test" >
		    Colilert
		  </label>
		</div>		
	</div> -->



	<!-- <br> -->
	<hr>
	<p>WATER QUALITY TEST RESULTS</p>
	
	<div class="form-group">
		<label class="col-sm-4 control-label" style="font-family: sans-serif;"> 
			Petrifilm
		</label>
		<div class="col-sm-4">
<!-- 			<button type="button" class="btn " style="font-size: 10px; background-color: #E0E0E0;">
					<img src="/img/petrifilm.png" style="width: 40px;"/>
			</button> -->
			<img src="/img/petrifilm.png" style="width: 54px; opacity: 0.8;" class="img-rounded"/>
		</div>
	</div>
	<div class="form-group">
		<label for="petrifilm" class="col-sm-4 control-label">blue dots</label>
		<div class="col-sm-4">
			<input type="text" class="form-control bfh-number" name="petrifilm_blue" id="petrifilm_blue" data-min="-1" data-max="1000">
		</div>
	</div>
	<div class="form-group">
		<label for="petrifilm" class="col-sm-4 control-label">red dots</label>
		<div class="col-sm-4">
			<input type="text" name="petrifilm_red" class="form-control bfh-number"  id="petrifilm_red" data-min="-1" data-max="1000"> 
		</div>
	</div>

	<div class="form-group">
		<label for="colilert" class="col-sm-4 control-label" style="font-family: sans-serif;"> 
			Colilert
		</label>
		<div class="col-sm-4">
			<img src="/img/colilert.jpg" style="width: 58px; opacity: 0.8;"/>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-4 col-sm-4">
			<select class="form-control" name="colilert">
			  <option id="colilert" value="none">none</option>
			  <option id="colilert" value="fluorescence">fluorescence</option>
			  <option id="colilert" value="yellow">yellow</option>
			  <option id="colilert" value="transparent">transparent</option>
			</select>
		</div>
	</div>

	<hr><br>
	<div class="form-group">
		<label for="reference" class="col-sm-4 control-label" style="font-family: sans-serif;"> Password </label>
		<div class="col-sm-4">
			<input type="password" name="password" id="password" class="form-control" >	
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-4 col-sm-4">
			<p style="text-align: left; font-size: 14px;">* Password is indicated in your instruction paper. </p>	
		</div>
	</div>


	<br>
	<div class="form-group">
		<div class="col-sm-offset-4 col-sm-4">  
			<input class="btn btn-warning btn-lg btn-block" type="submit" value="Add a new data">
		</div>
	</div>
</form>


<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
    var x=document.getElementById("demo");
    function getLocation()
    {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition,showError);
        } else {x.innerHTML="Geolocation is not supported by this browser.";}
    }
    
    function showPosition(position) {
        var latlon=position.coords.latitude+","+position.coords.longitude;
        var tlat = position.coords.latitude;
        var tlng = position.coords.longitude;
            $("#lat").val (tlat);
            $("#lon").val (tlng);
    
        var img_url="http://maps.googleapis.com/maps/api/staticmap?center="+latlon
        +"&markers=icon:http://tinyurl.com/2ftvtt6|"+latlon+
        "&zoom=14&size=320x180&sensor=false";
        document.getElementById("mapholder").innerHTML="<img src='"+img_url+"'>";
    }
      
    function showError(error) {
        switch(error.code) 
        {
            case error.PERMISSION_DENIED:
              x.innerHTML="User denied the request for Geolocation."
              break;
            case error.POSITION_UNAVAILABLE:
              x.innerHTML="Location information is unavailable."
              break;
            case error.TIMEOUT:
              x.innerHTML="The request to get user location timed out."
              break;
            case error.UNKNOWN_ERROR:
              x.innerHTML="An unknown error occurred."
              break;
        }
    }

    $(function() {
        $('.date_select').datepicker();
    });  

	jQuery(document).ready(function(){
		$('input:radio[name="sourcetype"]').change(function(){
		    if($(this).val() == 'other'){
		    	$("#sourcetype_other").css('display','initial');
		       // alert("test");
		    } else {
		    	$("#sourcetype_other").css('display', 'none');
		    }
		});
	});
	
</script>

